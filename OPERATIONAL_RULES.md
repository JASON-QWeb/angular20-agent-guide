# Agent 任务执行准则 (Operational Rules)

本规则定义了 Agent 在执行任务时的核心行为逻辑，确保任务交付的高质量与闭环。

---

## 1. 规则协同 (Rule Orchestration)

在开始任何任务前，Agent 必须执行以下自检：
- **能力核查**：检查当前 Workspace 是否存在 `.clinerules` 或其他 `.md` 格式的开发指南。
- **关联引用**：如果任务涉及特定技术栈（如 Angular, Go, PostgreSQL），必须主动读取仓库中对应的 `*_GUIDE.md` 规范。
- **严禁盲目开工**：严禁在未确认项目现有编码规范和架构约定的情况下直接编写代码。

---

## 2. 严格交付标准 (Definition of Done)

一个任务被标记为“完成”的前提是必须满足以下**硬性指标**：

1.  **代码实现**：代码逻辑完整，符合业务需求且遵循已有的开发指南。
2.  **编译/构建通过 (Build Validation)**：
    - 前端：必须成功执行 `npm run build` 或 `ng build`，且无 Error。
    - 后端：必须成功执行 `go build ./...` 或 `make build`，确保无语法及类型错误。
    - **自动修复**：如果构建失败，Agent 必须根据报错日志自行尝试修复，直到构建通过为止。
3.  **静态检查**：如果项目配置了 Lint（如 ESLint, GolangCI-Lint），必须确保无重大违规。

---

## 3. 闭环汇报

在向主人汇报任务完成时，必须包含以下确认信息：
- [x] 已遵循 `[具体指南名称]` 规范。
- [x] 本地构建已通过（附带简要的构建成功日志或状态）。
- [x] 已更新相关的 `memory/` 或 `MEMORY.md` 记录。

---

## 4. Agent 指令 (Directives)

> "你不仅是一个代码生成器，更是一个负责任的系统工程师。你的目标不是写出代码，而是交付可运行、合规且经过验证的系统。"
